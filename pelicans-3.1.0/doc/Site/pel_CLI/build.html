<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>build - generation of executables, objects and libraries related to PELICANS-based applications</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#options">OPTIONS</a></li>
	<li><a href="#argument">ARGUMENT</a></li>
	<li><a href="#examples">EXAMPLES</a></li>
	<li><a href="#environment">ENVIRONMENT</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>build - generation of executables, objects and libraries related to PELICANS-based applications</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p>pel build [-help|-man]</p>
<p>pel build [options...] -exe <em>bindir</em></p>
<p>pel build [options...] -object <em>filename.o</em> <em>bindir</em></p>
<p>pel build [options...] -archive <em>archname.so</em> <em>bindir</em></p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>The generation of executables, objects and libraries associated to
a particular PELICANS-based application can be simply performed by using
the GNU <code>make</code> utility. The first step consists in building
a suitable makefile with the <code>pel depend</code> utility. The second
step consists in running GNU <code>make</code>  with suitable arguments,
a task whose responsiblity is assigned to <code>pel build</code>.</p>
<p>Essentially, GNU <code>make</code> is invoked with the
following instructions:</p>
<ol>
<li>
<p>read the makefile called <em>Makefile</em>, located in the directory <em>bindir</em>
(unless otherwise specified with the <code>-makefile</code> options);</p>
</li>
<li>
<p>update the target determined by the mutually exclusive instructions
<code>-exe,-object,-archive</code>;</p>
</li>
<li>
<p>use a specific set of make options that are determined by
the calling options of <code>pel build</code>.</p>
</li>
</ol>
<p>
</p>
<hr />
<h1><a name="options">OPTIONS</a></h1>
<dl>
<dt><strong><a name="item__2dh_2c__2dhelp"><strong>-h, -help</strong></a></strong>

<dd>
<p>Print a brief help message and exit.</p>
</dd>
</li>
<dt><strong><a name="item__2dm_2c__2dman"><strong>-m, -man</strong></a></strong>

<dd>
<p>Print the manual page and exit.</p>
</dd>
</li>
<dt><strong><a name="item__2dv_2c__2dverbose"><strong>-v, -verbose</strong></a></strong>

<dd>
<p>Execute verbosely.</p>
</dd>
</li>
<dt><strong><a name="item__2de_2c__2de_2c__2dexe"><strong>-e, -E, -exe</strong></a></strong>

<dd>
<p>Ask <code>make</code> to
update the target defined by 
the executable of the PELICANS-based application.</p>
</dd>
</li>
<dt><strong><a name="item__2do_2c__2do_2c__2dobject_filename_2eo"><strong>-o, -O, -object</strong> <em>filename.o</em></a></strong>

<dd>
<p>Ask <code>make</code> to update the target
defined by the module object <em>filename.o</em>
(typically, <code>filename</code> is the name of one of
the classes making up
the considered application).</p>
</dd>
</li>
<dt><strong><a name="item__2da_2c__2da_2c__2darchive_archname_2eext"><strong>-a, -A, -archive</strong> <em>archname.ext</em></a></strong>

<dd>
<p>Ask <code>make</code> to update the target
defined by the archive <em>archname.ext</em>
(the associated command depends on
the extension <em>.ext</em>).</p>
</dd>
</li>
<dt><strong><a name="item__2dlink_mode_link_mode"><strong>-link_mode</strong> link_mode</a></strong>

<dd>
<p>Set the linker:
    link_mode=cc : use the c++ linker (default)
    link_mode=c  : use the c linker
    link_mode=f  : use the fortran linker</p>
</dd>
</li>
<dt><strong><a name="item__2dmake_makename"><strong>-make</strong> makename</a></strong>

<dd>
<p>Use the command of name <code>makename</code> as 
the make command (default: <code>make</code>).
This option is typically used for systems
on which the GNU <code>make</code> utility is
called <code>gmake</code>.</p>
</dd>
</li>
<dt><strong><a name="item__2dmakefile_makefile"><strong>-makefile</strong> makefile</a></strong>

<dd>
<p>Set the makefile used for all tasks of compilation,
assembly and linking. Default is: <em>bindir</em>/Makefile.</p>
</dd>
</li>
<dt><strong><a name="item__2dwith_extlist"><strong>-with</strong> EXTlist</a></strong>

<dd>
<p>Notify that the current application DOES require the
packages of <code>EXTlist</code> so that the archives
associated to those packages
should be added to the list of files to link.
<code>EXTlist</code> is a comma separated list denoting external APIs
that might be used by some components of PELICANS.
This option is meaningful only for the targets
of the options <code>-exe</code> and <code>-archive</code>.
Note that <code>pel depend</code> defines some defaults in the
generated makefile for all possible external libraries.</p>
</dd>
</li>
<dt><strong><a name="item__2dwithout_extlist"><strong>-without</strong> EXTlist</a></strong>

<dd>
<p>Notify that the current application DOES NOT require the
packages of <code>EXTlist</code> so that the archives
associated to those packages
should NOT be added to the list of files to link.
<code>EXTlist</code> is a comma separated list denoting external APIs
that might be used by some components of PELICANS.
This option is meaningful only for the targets
of the options <code>-exe</code> and <code>-archive</code>.
Note that <code>pel depend</code> defines some defaults in the
generated makefile for all possible external libraries.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="argument">ARGUMENT</a></h1>
<dl>
<dt><strong><a name="item__bindir"><strong> <em>bindir</em> </strong></a></strong>

<dd>
<p>Directory containing the makefile generated by <code>pel depend</code>,
called <em>Makefile</em>. Any file produced by the execution
of <code>pel build</code> (that is: when updating a target of <em>Makefile</em>)
will be created in that directory (objects, libraries, executable,
dependency files ...). The executable will be called <em>exe</em>.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="examples">EXAMPLES</a></h1>
<dl>
<dt><strong><a name="item_pel_depend__2dl_pel1_dbg_bin_2fdbg__2e"><code>pel depend -l pel1 dbg bin/dbg .</code></a></strong>

<dt><strong><a name="item_pel_build__2dexe_bin_2fdbg"><code>pel build -exe bin/dbg</code></a></strong>

<dd>
<p>The current application is made of all the header and source files
located in any subdirectory of the working directory. The
generated <em>Makefile</em>, the executable <em>exe</em> and all the files
created during the compiling process will be located in the
subdirectory <em>bin/dbg</em> of the working directory.</p>
</dd>
</li>
<dt><strong><a name="item_pel_build__2dwithout_petsc_2copengl__2dexe_lib"><code>pel build -without petsc,opengl -exe lib</code></a></strong>

<dd>
<p>All the files generated for and during the compilation process
are located in the subdirectory lib of the working directory
(and possibly in the working directory itself).
Linking will be performed without the archives associated
to the PETSc and OpenGL libraries.</p>
</dd>
</li>
<dt><strong><a name="item_pel_build__2dobject_myclass_2eo__2fusr_2fsmith_2fa"><code>pel build -object myclass.o /usr/smith/appli/bin</code></a></strong>

<dd>
<p>Update the target <em>myclass.o</em> of the makefile <em>Makefile</em>
located in the directory <em>/usr/smith/appli/bin</em>, that
is: build object file <em>myclass.o</em> in that directory.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="environment">ENVIRONMENT</a></h1>
<p>It is possible to store arguments and options, overwritable by the command
line arguments, in the environment variable PELBUILD.</p>

</body>

</html>
