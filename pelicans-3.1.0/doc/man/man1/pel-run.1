.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "RUN 1"
.TH RUN 1 "2010-03-17" "perl v5.8.8" "User Contributed Perl Documentation"
.SH "NAME"
run \- execution of a PELICANS\-based application
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
pel run [\-help|\-man]
.PP
pel run [options...] \fIexe\fR \fIdata\fR \fIresu\fR
.PP
pel run \-build_pattern \fIfilename\fR \-R \fIdir\fR \fIexe\fR \fIdata\fR \fIresu\fR
.PP
pel run \-check_pattern \fIfilename\fR \fIexe\fR \fIdata\fR \fIresu\fR
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\f(CW\*(C`pel run\*(C'\fR executes a given PELICANS-based application with a
given data file, and copy all the output messages in a given file
(or set of files in parallel mode).
.PP
Execution is performed in the current directory unless the option
\&\f(CW\*(C`\-R\*(C'\fR is specified. Other options are devoted to the customization
of the execution.
.SH "ARGUMENTS"
.IX Header "ARGUMENTS"
.IP "\fB \f(BIexe\fB \fR" 4
.IX Item " exe "
Name of the executable of the PELICANS-based application to run
(this executable has usually been built with a \f(CW\*(C`pel build\*(C'\fR
command).
.IP "\fB \f(BIdata\fB \fR" 4
.IX Item " data "
Name of the file storing the \s-1PELICANS\s0 Hierarchical Data Structure
used as a data file for the PELICANS-based application to run.
.IP "\fB \f(BIresu\fB \fR" 4
.IX Item " resu "
In sequential mode :
name of a file into which any message directed to the standard
error or to the standard output will be copied (this file will
be created or truncated).
In parallel mode : basename of the files into which any message
directed to the streams \f(CW\*(C`PEL::out()\*(C'\fR and \f(CW\*(C`PEL::err()\*(C'\fR will
be copied (these files will be created or truncated). The extension
of these files is the rank of their associated process.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-h, \-help\fR" 4
.IX Item "-h, -help"
Print a brief help message and exit.
.IP "\fB\-m, \-man\fR" 4
.IX Item "-m, -man"
Print the manual page and exit.
.IP "\fB\-noverb\fR" 4
.IX Item "-noverb"
Deactivate the verbose option of the PELICANS-based application
(which is activated by default).
.IP "\fB\-R\fR \fIdir\fR" 4
.IX Item "-R dir"
Instead of running in the current directory, run recursively in
all the subdirectories of \fIdir\fR (including \fIdir\fR itself)
that contain a file of name \fIdata\fR.
.IP "\fB\-Cpost\fR" 4
.IX Item "-Cpost"
Activate the evaluation of the postconditions (only effective
for sources compiled with the '\f(CW\*(C`opt2\*(C'\fR' or '\f(CW\*(C`dbg\*(C'\fR' compilation level, 
see \f(CW\*(C`pel depend\*(C'\fR ).
.IP "\fB\-Call\fR" 4
.IX Item "-Call"
Activate the evaluation of the postconditions, invariants and
checks (only effective
for sources compiled with the '\f(CW\*(C`opt2\*(C'\fR' or '\f(CW\*(C`dbg\*(C'\fR' compilation level,
see \f(CW\*(C`pel depend\*(C'\fR ).
.IP "\fB\-Xpetsc\fR \fIoption\fR" 4
.IX Item "-Xpetsc option"
Transfer \fIoption\fR to the PETSc external \s-1API\s0.
.IP "\fB\-X\fR \fIoption\fR" 4
.IX Item "-X option"
Transfer \fIoption\fR to external APIs.
.PP
To execute a PELICANS-based application in parallel on
multiple processors, \f(CW\*(C`pel run\*(C'\fR forwards its request
to \f(CW\*(C`mpirun\*(C'\fR.
.IP "\fB\-np\fR n" 4
.IX Item "-np n"
Specify the number of processors to run on
(call \f(CW\*(C`mpirun\*(C'\fR with \fB\-np\fR n as an option).
.IP "\fB\-machinefile\fR \fIfile\fR" 4
.IX Item "-machinefile file"
Take the list of possible machines to run on from
the file \fIfile\fR (call \f(CW\*(C`mpirun\*(C'\fR with
\&\fB\-machinefile\fR \fIfile\fR as an option).
.IP "\fB\-nolocal\fR" 4
.IX Item "-nolocal"
Call \f(CW\*(C`mpirun\*(C'\fR with \fB\-nolocal\fR as an option.
.PP
During the final stage of the execution of a PELICANS-based application,
the object to which \f(CW\*(C`PEL_Root::object()\*(C'\fR refers is destroyed
(internally in the \s-1PELICANS\s0 framework), leading to
the destruction of all remaining instances of subclasses of \f(CW\*(C`PEL_Object\*(C'\fR
whose owner is not the \f(CW\*(C`NULL\*(C'\fR object. But it is the reponsibility of
the developer of the PELICANS-based application to call the \f(CW\*(C`destroy()\*(C'\fR
method on behalf of any objects that he may have created with \f(CW\*(C`NULL\*(C'\fR
as owner. If such is not the case, some dynamically allocated memory
might not be released when the execution terminates, and an ad-hoc
message is printed by \s-1PELICANS\s0. The following two options
help identifying the functions in which non-destroyed objects
have been created. They should be used during two successive runs:
the first run, with the \f(CW\*(C`\-Cobject\*(C'\fR option identifies a non-destroyed
object whereas the second run, with the \f(CW\*(C`\-catch\*(C'\fR option locates
the function in which it had been created.
.IP "\fB\-Cobjects\fR" 4
.IX Item "-Cobjects"
Assign an identification number to each object that
has not been destroyed when the execution terminates,
and display all available information about them
(the identification number is an integer appearing
between brackets on top of each printed block).
.IP "\fB\-catch\fR nb" 4
.IX Item "-catch nb"
Display a warning message at runtime when the
object whose identification number is \f(CW\*(C`nb\*(C'\fR
is created (necessarily with the \f(CW\*(C`NULL\*(C'\fR owner).
.PP
A PELICANS-based application that can be executed by \f(CW\*(C`pel run\*(C'\fR
requires a data file (whose name is the argument \fIdata\fR).
That file stores a Hierarchical Data System whose structure
is implicitely defined by the application itself (through
calls to the various member functions of \f(CW\*(C`PEL_ModuleExplorer\*(C'\fR).
\&\s-1PELICANS\s0 offers the possibility to \*(L"learn\*(R" that structure
during an execution and to record this infered knowledge
in a called \*(L"pattern\*(R" file (option \f(CW\*(C`\-build_pattern\*(C'\fR).
This pattern file can be used in turn to check
the conformity of other data file with this structure
(option \f(CW\*(C`\-check_pattern\*(C'\fR).
.PP
These two options are mutually exclusive. The activation of
one of them inhibits the autocheck feature (see below).
.IP "\fB\-build_pattern\fR \fIfilename\fR" 4
.IX Item "-build_pattern filename"
During the run, extract the pattern of the hierarchical
data structure associated to \fIdata\fR, and add it to the
file called \fIfilename\fR
(which is created if it did not existed before, or extended otherwise).
.IP "\fB\-check_pattern\fR \fIfilename\fR" 4
.IX Item "-check_pattern filename"
Prior to execution, check the conformity of \fIdata\fR
with the pattern file \fIfilename\fR.
.PP
Let us consider an execution associated to a given data file \fIdata\fR. If
there is no available pattern file against which the conformity
of \fIdata\fR can be checked, \f(CW\*(C`pel run\*(C'\fR offers an \*(L"autocheck\*(R"
mode which splits the execution in two steps: a run is first performed
and a pattern is extracted from \fIdata\fR (in a temporary file), then, after
completion of that run, \fIdata\fR is checked against the extracted
pattern. This mode allows finding unread parts in the data
file which may be caused by typing errors.
.IP "\fB\-autocheck\fR" 4
.IX Item "-autocheck"
Perform the run in the \*(L"autocheck\*(R" mode. This option is activated by default,
unless the options \fB\-build_pattern\fR or \fB\-check_pattern\fR are present.
.IP "\fB\-noautocheck\fR" 4
.IX Item "-noautocheck"
Deactivate the \*(L"autocheck\*(R" mode.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
.ie n .IP """pel run  ../bin/exe data.pel resu""" 4
.el .IP "\f(CWpel run  ../bin/exe data.pel resu\fR" 4
.IX Item "pel run  ../bin/exe data.pel resu"
Run executable \fIexe\fR located in the directory \fI../bin/\fR
with the data file \fIdata.pel\fR, store
all outputs in the file \fIresu\fR and perform an autocheck on \fIdata.pel\fR.
.ie n .IP """pel run \-Cpost ../bin/exe data.pel resu""" 4
.el .IP "\f(CWpel run \-Cpost ../bin/exe data.pel resu\fR" 4
.IX Item "pel run -Cpost ../bin/exe data.pel resu"
Same as before, with in addition the evaluation of all postconditions
of the member functions compiled with the '\f(CW\*(C`dbg\*(C'\fR' or '\f(CW\*(C`opt2\*(C'\fR'
compilation level.
.ie n .IP """pel run \-np 3 \-machinefile ms $EXE0 data.pel resu""" 4
.el .IP "\f(CWpel run \-np 3 \-machinefile ms $EXE0 data.pel resu\fR" 4
.IX Item "pel run -np 3 -machinefile ms $EXE0 data.pel resu"
Launch the executable whose name is stored in the \f(CW\*(C`EXEO\*(C'\fR environment
variable on 3 processors, with the data file \fIdata.pel\fR.
The first process will be on the current machine, whereas the other ones will
be on the machines defined in the file \fIms\fR).
Outputs directed to \f(CW\*(C`PEL::out()\*(C'\fR
and \f(CW\*(C`PEL::err()\*(C'\fR will be copied in the files \fIresu.0\fR, \fIresu.1\fR
and \fIresu.2\fR (first, second and third process).
.ie n .IP """pel run \-np 3 \-machinefile ms \-nolocal $EXE0 data.pel resu""" 4
.el .IP "\f(CWpel run \-np 3 \-machinefile ms \-nolocal $EXE0 data.pel resu\fR" 4
.IX Item "pel run -np 3 -machinefile ms -nolocal $EXE0 data.pel resu"
Same as before, but the 3 processes will be launched on the machines defined
in the file \fIms\fR.
.ie n .IP """pel run \-np 3 \-machinefile ms \-nolocal \-Xpetsc \-trace $EXE0 data.pel resu""" 4
.el .IP "\f(CWpel run \-np 3 \-machinefile ms \-nolocal \-Xpetsc \-trace $EXE0 data.pel resu\fR" 4
.IX Item "pel run -np 3 -machinefile ms -nolocal -Xpetsc -trace $EXE0 data.pel resu"
Same as before, with a transfer of the \fI\-trace\fR option to PETSc.
.ie n .IP """pel run \-R Test bin/exe data.pel resu""" 4
.el .IP "\f(CWpel run \-R Test bin/exe data.pel resu\fR" 4
.IX Item "pel run -R Test bin/exe data.pel resu"
If \f(CW\*(C`EXE\*(C'\fR denotes the file \fIexe\fR located in the subdirectory
\&\fIbin\fR of the working directory, this command is equivalent as
executing: \ \f(CW\*(C`pel\ run\ EXE\ data.pel\ resu\*(C'\fR\ 
in all the subdirectories of \fITest\fR containing
a file \fIdata.pel\fR.
.ie n .IP """pel run \-R \-build_pattern etc/pattern.pel bin/exe data.pel resu""" 4
.el .IP "\f(CWpel run \-R \-build_pattern etc/pattern.pel bin/exe data.pel resu\fR" 4
.IX Item "pel run -R -build_pattern etc/pattern.pel bin/exe data.pel resu"
Same as before, with in addition the learning and storage of the
requested structure of the data files in \fIetc/pattern.pel\fR. 
No autocheck is performed.
.ie n .IP """pel run \-check_pattern ../etc/pattern.pel ../bin/exe data.pel resu""" 4
.el .IP "\f(CWpel run \-check_pattern ../etc/pattern.pel ../bin/exe data.pel resu\fR" 4
.IX Item "pel run -check_pattern ../etc/pattern.pel ../bin/exe data.pel resu"
Check the conformance of \fIdata.pel\fR with \fI../etc/pattern.pel\fR
and, if successful, run subsequently \fI../bin/exe\fR with data file
\&\fIdata.pel\fR and store all outputs in the file \fIresu\fR. No autocheck is
performed.
